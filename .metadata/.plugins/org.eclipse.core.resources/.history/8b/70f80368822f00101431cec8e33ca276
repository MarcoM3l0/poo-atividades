package br.ifs.tdd.model;

import br.ifs.tdd.exception.ValidacaoException;

public class Produto {
	
	private  String id;
    private String nome;
    private String descricao;
    private double preco;
    
    
	public Produto(String id, String nome, String descricao, double preco) {
		
		validarIdentificador(id);
        validarNome(nome);
        validarDescricao(descricao);
        validarPreco(preco);
		
		this.id = id;
		this.nome = nome;
		this.descricao = descricao;
		this.preco = preco;
	}


	private void validarPreco(double preco) {
		// TODO Auto-generated method stub
		
	}


	private void validarDescricao(String descricao) {
		// TODO Auto-generated method stub
		
	}


	private void validarNome(String nome) {
		
		if( nome == null || nome.trim().isEmpty()) {
			throw new ValidacaoException("Nome obrigatório");
		}
		if(nome.length() > 100) {
			throw new ValidacaoException("\"Nome excede 100 caracteres");
		}
		
	}


	private void validarIdentificador(String id) {


		if (id == null || id.trim().isEmpty()) {
			throw new ValidacaoException("Identificador obrigatório");
		}
		if (id.length() != 13) {
			throw new ValidacaoException("Tamanho do identificador inválido (13 caracteres)");
		}
		if(!id.matches("\\d{13}")) {
			throw new ValidacaoException("Formato do identificador inválido (apenas números)");
		}
		
	}


	

}
